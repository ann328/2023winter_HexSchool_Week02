import{_,c,a as t,F as h,r as l,d as n,t as o,o as i}from"./index--sq5RJqm.js";var u={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"2023autumnhexschoolann328",BASE_URL:"/2023winter_HexSchool_Week02/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:a,VITE_PATH:p}=u,m={data(){return{products:[],showProduct:{}}},methods:{checkAdmin(){this.axios.post(`${a}/api/user/check`).then(s=>{this.getData()}).catch(s=>{alert(s.data.message),this.$router.push("/")})},getData(){this.axios.get(`${a}/api/${p}/admin/products`).then(s=>{this.products=s.data.products}).catch(s=>{alert(s.data.message)})},showCard(s){this.showProduct=s}},mounted(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexschool\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=s,this.checkAdmin()}},w={class:"container"},g={class:"row py-3"},x={class:"col-md-6"},y=t("h2",null,"產品列表",-1),P={class:"table table-hover mt-4"},k=t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"150"},"是否啟用"),t("th",{width:"120"},"查看細節")])],-1),b={width:"150"},v={width:"120"},f={width:"120"},A={width:"150"},E={key:0,class:"text-success"},T={key:1},V={width:"120"},D=["onClick"],I={class:"col-md-6"},S=t("h2",null,"單一產品細節",-1),B={class:"card mb-3"},C=["src"],H={class:"card-body"},R={class:"card-title"},F={class:"badge bg-primary ms-2"},L={class:"card-text"},N={class:"card-text"},O={class:"d-flex"},U={class:"card-text me-2"},z={class:"card-text text-secondary"},M=t("template",null,[t("img",{src:"",alt:"",class:"images m-2"})],-1),W={key:1,class:"text-secondary"};function j(s,q,G,J,e,r){return i(),c("div",w,[t("div",g,[t("div",x,[y,t("table",P,[k,t("tbody",null,[(i(!0),c(h,null,l(e.products,d=>(i(),c("tr",{key:d.id},[t("td",b,o(d.title),1),t("td",v,o(d.origin_price),1),t("td",f,o(d.price),1),t("td",A,[d.is_enabled?(i(),c("span",E,"啟用")):(i(),c("span",T,"未啟用"))]),t("td",V,[t("button",{type:"button",class:"btn btn-primary",onClick:K=>r.showCard(d)}," 查看細節 ",8,D)])]))),128))])]),t("p",null,[n(" 目前有 "),t("span",null,o(e.products.length),1),n(" 項產品 ")])]),t("div",I,[S,e.showProduct.title?(i(),c(h,{key:0},[t("div",B,[t("img",{src:e.showProduct.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,C),t("div",H,[t("h5",R,[n(o(e.showProduct.title)+" ",1),t("span",F,o(e.showProduct.category),1)]),t("p",L,"商品描述："+o(e.showProduct.description),1),t("p",N,"商品內容："+o(e.showProduct.content),1),t("div",O,[t("p",U,o(e.showProduct.price),1),t("p",z,[t("del",null,o(e.showProduct.origin_price),1)]),n(" 元 / "+o(e.showProduct.unit),1)])])]),M],64)):(i(),c("p",W,"請選擇一個商品查看"))])])])}const X=_(m,[["render",j]]);export{X as default};
